#ifndef RMW_MICROXRCEDDS_CONFIG_H
#define RMW_MICROXRCEDDS_CONFIG_H

#include <uxr/client/config.h>

#cmakedefine RMW_UXRCE_TRANSPORT_UDP
#cmakedefine RMW_UXRCE_TRANSPORT_TCP
#cmakedefine RMW_UXRCE_TRANSPORT_SERIAL
#cmakedefine RMW_UXRCE_TRANSPORT_CUSTOM
#cmakedefine RMW_UXRCE_TRANSPORT_IPV4
#cmakedefine RMW_UXRCE_TRANSPORT_IPV6
#cmakedefine RMW_UXRCE_USE_REFS
#cmakedefine RMW_UXRCE_ALLOW_DYNAMIC_ALLOCATIONS
#cmakedefine RMW_UXRCE_GRAPH
#cmakedefine RMW_UROS_ERROR_HANDLING

#ifdef RMW_UXRCE_TRANSPORT_UDP
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_UDP_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_IP "@RMW_UXRCE_DEFAULT_UDP_IP@"
    #define RMW_UXRCE_DEFAULT_PORT "@RMW_UXRCE_DEFAULT_UDP_PORT@"
#elif defined(RMW_UXRCE_TRANSPORT_TCP)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_TCP_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_IP "@RMW_UXRCE_DEFAULT_TCP_IP@"
    #define RMW_UXRCE_DEFAULT_PORT "@RMW_UXRCE_DEFAULT_TCP_PORT@"
#elif defined(RMW_UXRCE_TRANSPORT_SERIAL)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_SERIAL_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_SERIAL_DEVICE "@RMW_UXRCE_DEFAULT_SERIAL_DEVICE@"
#elif defined(RMW_UXRCE_TRANSPORT_CUSTOM)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_CUSTOM_TRANSPORT_MTU
#endif

#define RMW_UXRCE_ENTITY_CREATION_TIMEOUT @RMW_UXRCE_ENTITY_CREATION_TIMEOUT@
#define RMW_UXRCE_ENTITY_DESTROY_TIMEOUT @RMW_UXRCE_ENTITY_DESTROY_TIMEOUT@

#cmakedefine RMW_UXRCE_STREAM_HISTORY_INPUT
#cmakedefine RMW_UXRCE_STREAM_HISTORY_OUTPUT
#if defined(RMW_UXRCE_STREAM_HISTORY_INPUT) && defined(RMW_UXRCE_STREAM_HISTORY_OUTPUT)
#undef RMW_UXRCE_STREAM_HISTORY_INPUT
#undef RMW_UXRCE_STREAM_HISTORY_OUTPUT
#define RMW_UXRCE_STREAM_HISTORY_INPUT @RMW_UXRCE_STREAM_HISTORY_INPUT@
#define RMW_UXRCE_STREAM_HISTORY_OUTPUT @RMW_UXRCE_STREAM_HISTORY_OUTPUT@
#else
#define RMW_UXRCE_STREAM_HISTORY_INPUT @RMW_UXRCE_STREAM_HISTORY@
#define RMW_UXRCE_STREAM_HISTORY_OUTPUT @RMW_UXRCE_STREAM_HISTORY@
#endif

#define RMW_UXRCE_PUBLISH_RELIABLE_TIMEOUT @RMW_UXRCE_PUBLISH_RELIABLE_TIMEOUT@

#define RMW_UXRCE_MAX_HISTORY @RMW_UXRCE_MAX_HISTORY@
#define RMW_UXRCE_MAX_INPUT_BUFFER_SIZE (RMW_UXRCE_MAX_TRANSPORT_MTU * RMW_UXRCE_STREAM_HISTORY_INPUT)
#define RMW_UXRCE_MAX_OUTPUT_BUFFER_SIZE (RMW_UXRCE_MAX_TRANSPORT_MTU * RMW_UXRCE_STREAM_HISTORY_OUTPUT)

#define RMW_UXRCE_MAX_SESSIONS @RMW_UXRCE_MAX_SESSIONS@
#define RMW_UXRCE_MAX_OPTIONS RMW_UXRCE_MAX_SESSIONS*3
#define RMW_UXRCE_MAX_NODES @RMW_UXRCE_MAX_NODES@
#define RMW_UXRCE_MAX_PUBLISHERS @RMW_UXRCE_MAX_PUBLISHERS@
#define RMW_UXRCE_MAX_SUBSCRIPTIONS @RMW_UXRCE_MAX_SUBSCRIPTIONS@
#define RMW_UXRCE_MAX_SERVICES @RMW_UXRCE_MAX_SERVICES@
#define RMW_UXRCE_MAX_CLIENTS @RMW_UXRCE_MAX_CLIENTS@
#define RMW_UXRCE_MAX_TOPICS @RMW_UXRCE_MAX_TOPICS@
#define RMW_UXRCE_MAX_WAIT_SETS @RMW_UXRCE_MAX_WAIT_SETS@
#define RMW_UXRCE_MAX_GUARD_CONDITION @RMW_UXRCE_MAX_GUARD_CONDITION@

#if RMW_UXRCE_MAX_TOPICS == -1
#define RMW_UXRCE_MAX_TOPICS_INTERNAL RMW_UXRCE_MAX_PUBLISHERS + RMW_UXRCE_MAX_SUBSCRIPTIONS
#else
#define RMW_UXRCE_MAX_TOPICS_INTERNAL RMW_UXRCE_MAX_TOPICS
#endif

#define RMW_UXRCE_NODE_NAME_MAX_LENGTH @RMW_UXRCE_NODE_NAME_MAX_LENGTH@
#define RMW_UXRCE_TOPIC_NAME_MAX_LENGTH @RMW_UXRCE_TOPIC_NAME_MAX_LENGTH@
#define RMW_UXRCE_TYPE_NAME_MAX_LENGTH @RMW_UXRCE_TYPE_NAME_MAX_LENGTH@

#define RMW_UXRCE_ENTITY_NAMING_BUFFER_LENGTH @RMW_UXRCE_REF_BUFFER_LENGTH@

#endif  // RMW_MICROXRCEDDS_CONFIG_H
